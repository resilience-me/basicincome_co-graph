{"filter":false,"title":"switch_views.js","tooltip":"/basicincome_co/services/switch_views.js","undoManager":{"mark":36,"position":36,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":77,"column":0},"action":"insert","lines":["var module = angular.module('app')","",""," module.factory('MongoDB', function ($mongolabResourceHttp) {","      ","    return $mongolabResourceHttp();","});","","angular.module('app').service('$MongoDB', ['$rootScope', 'MongoDB', function ($scope, MongoDB) {","  ","","    MongoDB.get_database(function(data){","    ","    $scope.database = data","    console.log(data)})","    ","  ","    ","this.getpathways = function(address, callback){","  MongoDB.collection(address)","  ","  var type","  //dividend pathways or safety net pathways ??"," ","  if($scope.switcher !== true){ ","    type =\"safety_net_pathway\"    ","}else type =\"dividend_pathway\"    ","console.log(\"thiss\"+$scope.switcher)","console.log(\"thiss\"+type)","","  function dso(){","  MongoDB.query({ type: type }).then(function(data){","$scope.pathways = data","callback(data)","","  });","  }","}","","this.get_consumption_outside_network = function(address, callback){","  MongoDB.collection(address)","  ","  MongoDB.query({ type: \"consumption_outside_network\" }).then(function(data){","$scope.consumption_outside_network = data","callback(data)","","  });","  ","}","","","","this.get_tax_blob = function(address, callback){","  MongoDB.collection(address)","  ","  MongoDB.query({ type: \"tax_blob\" }).then(function(data){","$scope.tax_blob = data","console.log(\"this\"+data[0].total_amount)","callback(data)","","  });","  ","}","","","","","}]);","",""," ","","","","","","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":31},"end":{"row":8,"column":39},"action":"remove","lines":["$MongoDB"]},{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":33},"end":{"row":8,"column":34},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":34},"end":{"row":8,"column":35},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":34},"end":{"row":8,"column":35},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":33},"end":{"row":8,"column":34},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["$"]},{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":33},"end":{"row":8,"column":34},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":33},"end":{"row":8,"column":34},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"remove","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":33},"end":{"row":8,"column":34},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":34},"end":{"row":8,"column":35},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":35},"end":{"row":8,"column":36},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":36},"end":{"row":8,"column":37},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":37},"end":{"row":8,"column":38},"action":"insert","lines":["W"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":37},"end":{"row":8,"column":38},"action":"remove","lines":["W"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":37},"end":{"row":8,"column":38},"action":"insert","lines":["V"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":38},"end":{"row":8,"column":39},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":39},"end":{"row":8,"column":40},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":40},"end":{"row":8,"column":41},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":41},"end":{"row":8,"column":42},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":59},"end":{"row":8,"column":70},"action":"remove","lines":[" 'MongoDB',"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":58},"end":{"row":8,"column":59},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":58},"end":{"row":8,"column":59},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":78},"end":{"row":8,"column":85},"action":"remove","lines":["MongoDB"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":77},"end":{"row":8,"column":78},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":76},"end":{"row":8,"column":77},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":0},"end":{"row":6,"column":3},"action":"remove","lines":["      ","    return $mongolabResourceHttp();","});"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":1},"end":{"row":4,"column":0},"action":"remove","lines":["module.factory('MongoDB', function ($mongolabResourceHttp) {",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":0},"end":{"row":17,"column":2},"action":"remove","lines":["    MongoDB.get_database(function(data){","    ","    $scope.database = data","    console.log(data)})","    ","  ","    ","this.getpathways = function(address, callback){","  MongoDB.collection(address)","  "]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":0},"end":{"row":52,"column":0},"action":"remove","lines":["  function dso(){","  MongoDB.query({ type: type }).then(function(data){","$scope.pathways = data","callback(data)","","  });","  }","}","","this.get_consumption_outside_network = function(address, callback){","  MongoDB.collection(address)","  ","  MongoDB.query({ type: \"consumption_outside_network\" }).then(function(data){","$scope.consumption_outside_network = data","callback(data)","","  });","  ","}","","","","this.get_tax_blob = function(address, callback){","  MongoDB.collection(address)","  ","  MongoDB.query({ type: \"tax_blob\" }).then(function(data){","$scope.tax_blob = data","console.log(\"this\"+data[0].total_amount)","callback(data)","","  });","  ","}","",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":21},"end":{"row":12,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":130,"mode":"ace/mode/javascript"}},"timestamp":1419902268000,"hash":"1f288766d89327e63910473da791bc66fe2d043e"}